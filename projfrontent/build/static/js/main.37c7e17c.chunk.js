(this.webpackJsonpprojfrontent=this.webpackJsonpprojfrontent||[]).push([[0],{16:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(18),o=c.n(s),a=(c(16),c(6)),r=c(3),i=c(5),l="http://localhost:8000/api/",d=function(){return fetch("".concat(l,"product"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},j=c(24),u=c(2),b=function(e){if(void 0!==typeof window){localStorage.removeItem("cart");localStorage.setItem("cart",JSON.stringify([])),e()}},m=function(){return void 0!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},h=function(e){var t=m()&&m().user.id;if(console.log("USERID: ",t),void 0!==typeof window)return localStorage.removeItem("jwt"),b((function(){})),fetch("".concat(l,"user/logout/").concat(t),{method:"GET"}).then((function(t){console.log("Signout success"),e()})).catch((function(e){return console.log(e)}))},O=c(0),f=function(e,t){return e.location.pathname===t?{color:"#2ecc72"}:{color:"#FFFFFF"}},x=Object(r.g)((function(e){var t=e.history;e.path;return Object(O.jsx)("div",{children:Object(O.jsxs)("ul",{className:"nav nav-tabs bg-dark",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(a.b,{style:f(t,"/"),className:"nav-link",to:"/",children:"WeTrainSmart"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(a.b,{style:f(t,"/store"),className:"nav-link",to:"/store",children:"SHOP"})}),m()&&Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(a.b,{style:f(t,"/cart"),className:"nav-link",to:"/cart",children:"CART"})}),m()&&Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(a.b,{style:f(t,"/user/dashboard"),className:"nav-link",to:"/user/dashboard",children:"DASHBOARD"})}),!m()&&Object(O.jsxs)(n.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(a.b,{style:f(t,"/signup"),className:"nav-link",to:"/signup",children:"SIGNUP"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(a.b,{style:f(t,"/signin"),className:"nav-link",to:"/signin",children:"SIGNIN"})})]}),m()&&Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("span",{onClick:function(){h((function(){t.push("/")}))},className:"nav-link text-warning",children:"SIGNOUT"})})]})})})),p=function(e){var t=e.title,c=void 0===t?"My Title":t,n=e.description,s=void 0===n?"My description":n,o=e.className,a=void 0===o?"bg-dark text-white p-4":o,r=e.children;return Object(O.jsxs)("div",{children:[Object(O.jsx)(x,{}),Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"jumbotron bg-dark text-white text-center",children:[Object(O.jsx)("h2",{className:"display-4",children:c}),Object(O.jsx)("p",{className:"lead",children:s})]}),Object(O.jsx)("div",{className:a,children:r})]}),Object(O.jsx)("footer",{className:"footer bg-dark mt-auto py-3",children:Object(O.jsxs)("div",{className:"container-fluid bg-success text-white text-center py-3",children:[Object(O.jsx)("h4",{children:"If you got any questions, reach me out at instagram"}),Object(O.jsx)("button",{className:"btn btn-warning btn-lg",children:"Contact Us"}),Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("span",{className:"text-warning",children:"An Amazing Django React fullstack course"})})]})})]})},g=function(e){var t=e.product,c=t?t.image:"https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940";return Object(O.jsx)("div",{className:"rounded border border-success p-2",children:Object(O.jsx)("img",{src:c,style:{maxHeight:"100%",maxWidth:"100%"},className:"mb-3 rounded",alt:""})})},v=function(e){var t=e.product,c=e.addtoCart,s=void 0===c||c,o=e.removeFromCart,a=void 0!==o&&o,l=e.reload,d=void 0===l?void 0:l,j=e.setReload,b=void 0===j?function(e){return e}:j,h=Object(n.useState)(!1),f=Object(i.a)(h,2),x=f[0],p=f[1],v=t?t.name:"A photo from pexels",N=t?t.description:"Default description",y=t?t.price:"Default";return Object(O.jsxs)("div",{className:"card text-white bg-dark border border-info ",children:[Object(O.jsx)("div",{className:"card-header lead",children:v}),Object(O.jsxs)("div",{className:"card-body",children:[function(e){if(e)return Object(O.jsx)(r.a,{to:"/cart"})}(x),Object(O.jsx)(g,{product:t}),Object(O.jsx)("p",{className:"lead bg-success font-weight-normal text-wrap",children:N}),Object(O.jsxs)("p",{className:"btn btn-success rounded  btn-sm px-4",children:["Rs. ",y]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12",children:function(e){return s&&Object(O.jsx)("button",{onClick:e,className:"btn btn-block btn-outline-success mt-2 mb-2",children:"Add to Cart"})}((function(){m()?(!function(e,t){var c=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(u.a)({},e)),localStorage.setItem("cart",JSON.stringify(c)),t())}(t,(function(){return p(!0)})),console.log("Added to cart")):console.log("Login Please!")}))}),Object(O.jsx)("div",{className:"col-12",children:function(e){return e&&Object(O.jsx)("button",{onClick:function(){!function(e){var t=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(c,n){c.id===e&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t)))}(t.id),b(!d),console.log("Product removed from cart")},className:"btn btn-block btn-outline-danger mt-2 mb-2",children:"Remove from cart"})}(a)})]})]})]})};function N(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],o=Object(n.useState)(!1),a=Object(i.a)(o,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){d().then((function(e){e.error?(l(e.error),console.log(r)):s(e)}))}),[]),Object(O.jsxs)(p,{title:"WeTrainSmart",description:"Welcome to wetrainsmart store",children:[Object(O.jsx)("div",{className:"embed-responsive embed-responsive-16by9",children:Object(O.jsx)("iframe",{title:"YouTube Channel ",className:"embed-responsive-item",src:"https://www.youtube.com/embed/zpOULjyy-n8?rel=0"})}),Object(O.jsx)("hr",{}),Object(O.jsx)("h1",{children:"Products"}),Object(O.jsx)("div",{className:"column",children:c.map((function(e,t){return Object(O.jsxs)("div",{className:"col-7 mb-4 mx-auto",children:[Object(O.jsx)(v,{product:e}),Object(O.jsx)("hr",{})]},t)}))})]})}var y=c(12),w=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(i.a)(e,2),c=t[0],s=t[1],o=c.name,r=c.email,d=c.password,j=c.error,b=c.success,m=function(e){return function(t){s(Object(u.a)(Object(u.a)({},c),{},Object(y.a)({error:!1},e,t.target.value)))}},h=function(e){var t;e.preventDefault(),s(Object(u.a)(Object(u.a)({},c),{},{error:!1})),(t={name:o,email:r,password:d},fetch("".concat(l,"user/"),{method:"POST",headers:{Accept:"application/json","content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){console.log("DATA",e),e.email===r?s(Object(u.a)(Object(u.a)({},c),{},{name:"",email:"",password:"",error:"",success:!0})):s(Object(u.a)(Object(u.a)({},c),{},{error:!0,success:!1}))})).catch((function(e){return console.log(e)}))};return Object(O.jsxs)(p,{title:"Sign Up Page",description:"A signup for LCO user",children:[Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-6 offset-sm-3 text-left",children:Object(O.jsxs)("div",{className:"alert alert-success",style:{display:b?"":"none"},children:["New account created successfully. Please"," ",Object(O.jsx)(a.b,{to:"/signin",children:"login now."})]})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-6 offset-sm-3 text-left",children:Object(O.jsx)("div",{className:"alert alert-danger",style:{display:j?"":"none"},children:"Check all fields again"})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-6 offset-sm-3 text-left",children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"text-light",children:"Name"}),Object(O.jsx)("input",{className:"form-control",value:o,onChange:m("name"),type:"text"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"text-light",children:"Email"}),Object(O.jsx)("input",{className:"form-control",value:r,onChange:m("email"),type:"text"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"text-light",children:"password"}),Object(O.jsx)("input",{className:"form-control",value:d,onChange:m("password"),type:"current-password"})]}),Object(O.jsx)("button",{onClick:h,className:"btn btn-success btn-block",children:"Submit"})]})})}),Object(O.jsx)("p",{className:"text-white text-center",children:JSON.stringify(c)})]})},S=c(28),k=function(e){var t=e.component,c=Object(S.a)(e,["component"]);return Object(O.jsx)(r.b,Object(u.a)(Object(u.a)({},c),{},{render:function(e){return m()?Object(O.jsx)(t,Object(u.a)({},e)):Object(O.jsx)(r.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},A=function(){return Object(O.jsx)(p,{title:"User dashboard",children:Object(O.jsx)("h1",{children:"Welcome to wetrainsmart user dashboard page"})})},T=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1,loading:!1,didRedirect:!1}),t=Object(i.a)(e,2),c=t[0],s=t[1],o=(c.name,c.email),d=c.password,b=c.error,h=c.success,f=c.loading,x=(c.didRedirect,function(e){return function(t){s(Object(u.a)(Object(u.a)({},c),{},Object(y.a)({error:!1},e,t.target.value)))}}),g=function(e){e.preventDefault(),s(Object(u.a)(Object(u.a)({},c),{},{error:!1,loading:!0})),function(e){var t=new FormData;for(var c in e)console.log(e[c]),t.append(c,e[c]);var n,s=Object(j.a)(t.keys());try{for(s.s();!(n=s.n()).done;){var o=n.value;console.log("MYKEY: ",o)}}catch(a){s.e(a)}finally{s.f()}return fetch("".concat(l,"user/login/"),{method:"POST",body:t}).then((function(e){return console.log("SUCCESS",e),e.json()})).catch((function(e){return console.log(e)}))}({email:o,password:d}).then((function(e){console.log("DATA",e),e.token?function(e,t){void 0!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){console.log("TOKKEN ADDED"),s(Object(u.a)(Object(u.a)({},c),{},{didRedirect:!0}))})):s(Object(u.a)(Object(u.a)({},c),{},{loading:!1}))})).catch((function(e){return console.log(e)}))};return Object(O.jsxs)(p,{title:"Welcome to sign in page",description:"WeTrainSmart store",children:[f&&Object(O.jsx)("div",{className:"alert alert-info",children:Object(O.jsx)("h2",{children:"Loading..."})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-6 offset-sm-3 text-left",children:Object(O.jsx)("div",{className:"alert alert-danger",style:{display:b?"":"none"},children:"Check all fields again"})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-6 offset-sm-3 text-left",children:Object(O.jsxs)("div",{className:"alert alert-success",style:{display:h?"":"none"},children:["New account created successfully. Please"," ",Object(O.jsx)(a.b,{to:"/signin",children:"login now."})]})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-6 offset-sm-3 text-left",children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"text-light",children:"Email"}),Object(O.jsx)("input",{name:"email",className:"form-control",value:o,onChange:x("email"),type:"text"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{className:"text-light",children:"password"}),Object(O.jsx)("input",{name:"password",className:"form-control",value:d,onChange:x("password"),type:"current-password"})]}),Object(O.jsx)("button",{onClick:g,className:"btn btn-success btn-block",children:"Submit"})]})})}),Object(O.jsx)("p",{className:"text-center",children:JSON.stringify(c)}),function(){if(m())return Object(O.jsx)(r.a,{to:"/"})}()]})},C=c(26),I=c.n(C),P=function(e){var t=e.products,c=e.reload,s=void 0===c?void 0:c,o=e.setReload,a=void 0===o?function(e){return e}:o,d=Object(n.useState)({loading:!1,success:!1,clientToken:null,error:"",instance:{}}),j=Object(i.a)(d,2),f=j[0],x=j[1],p=m&&m().user.id,g=m&&m().token,v=function(e,t){(function(e,t){return fetch("".concat(l,"payment/gettoken/").concat(e,"/").concat(t,"/"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){if(e.error)x(Object(u.a)(Object(u.a)({},e),{},{error:e.error})),h((function(){return Object(O.jsx)(r.a,{to:"/"})}));else{var t=e.clientToken;x({clientToken:t})}}))};Object(n.useEffect)((function(){v(p,g)}),[p,g]);var N=function(){var e=0;return t.map((function(t){e+=parseInt(t.price)})),e},y=function(){x({loading:!0});f.instance.requestPaymentMethod().then((function(e){console.log("MYDATA",e);var c={paymentMethodNonce:e.nonce,amount:N()};(function(e,t,c){var n=new FormData;for(var s in c)n.append(s,c[s]);return fetch("".concat(l,"payment/process/").concat(e,"/").concat(t,"/"),{method:"POST",body:n}).then((function(e){return console.log("p-0",e),e.json()}))})(p,g,c).then((function(e){if(console.log("POINT-1",e),e.error)"1"===e.code&&(console.log("PAYMENT Failed!"),h((function(){return Object(O.jsx)(r.a,{to:"/"})})));else{x(Object(u.a)(Object(u.a)({},f),{},{success:e.success,loading:!1})),console.log("PAYMENT SUCCESS");var c="";t.forEach((function(e){c+=e.name+", "}));var n={products:c,transaction_id:e.transaction.id,amount:e.transaction.amount};(function(e,t,c){var n=new FormData;for(var s in c)n.append(s,c[s]);return fetch("".concat(l,"order/add/").concat(e,"/").concat(t,"/"),{method:"POST",body:n}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(p,g,n).then((function(e){e.error?"1"===e.code&&(console.log("Order Failed!"),h((function(){return Object(O.jsx)(r.a,{to:"/"})}))):!0===e.success&&console.log("ORDER PLACED!!")})).catch((function(e){x({loading:!1,success:!1}),console.log("Order FAILED",e)})),b((function(){console.log("Did we got a crash?")})),a(!s)}})).catch((function(e){x({loading:!1,success:!1}),console.log("PAYMENT FAILED",e)}))}))};return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h3",{children:["Your bill is Rs. ",N()]}),Object(O.jsx)("div",{children:null!==f.clientToken&&t.length>0?Object(O.jsxs)("div",{children:[Object(O.jsx)(I.a,{options:{authorization:f.clientToken},onInstance:function(e){return f.instance=e}}),Object(O.jsx)("button",{onClick:y,className:"btn btn-block btn-success",children:"Buy Now"})]}):Object(O.jsx)("h3",{children:"Please login first or add something in cart"})})]})},D=c(27),E=c.n(D),R=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],s=t[1],o=Object(n.useState)([]),a=Object(i.a)(o,2),r=a[0],l=a[1];Object(n.useEffect)((function(){l(function(){if(void 0!==typeof window&&localStorage.getItem("cart"))return JSON.parse(localStorage.getItem("cart"))}())}),[c]);return Object(O.jsx)(p,{title:"Cart page",description:"Welcome to checkout",children:Object(O.jsxs)("div",{className:"row text-center",children:[Object(O.jsx)("div",{className:"col-6",children:r.length>0?function(e){return Object(O.jsx)("div",{children:e.map((function(e,t){return Object(O.jsx)(v,{product:e,removeFromCart:!0,addtoCart:!1,reload:c,setReload:s},t)}))})}(r):Object(O.jsx)("h4",{children:"No products"})}),Object(O.jsxs)("div",{className:"col-6",children:[r.length>0?Object(O.jsx)(P,{products:r,setReload:s}):Object(O.jsx)("h3",{children:"Please login or add something in cart"}),Object(O.jsx)("hr",{}),Object(O.jsx)("h3",{children:"Or pay with GPay"}),Object(O.jsx)(E.a,{environment:"TEST",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}],merchantInfo:{merchantId:"12345678901234567890",merchantName:"Demo Merchant"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:"1.00",currencyCode:"USD",countryCode:"US"},shippingAddressRequired:!0,callbackIntents:["SHIPPING_ADDRESS","PAYMENT_AUTHORIZATION"]},onLoadPaymentData:function(e){console.log("Success",e)},onPaymentAuthorized:function(e){return console.log("payment Authorised Success",e),{transactionState:" SUCCESS"}},onPaymentDataChanged:function(e){return console.log("On Payment Data Changed",e),{}},existingPaymentMethodRequired:"false",buttonColor:"black",buttonType:"Buy"})]})]})})};function M(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],o=Object(n.useState)(!1),a=Object(i.a)(o,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){d().then((function(e){e.error?(l(e.error),console.log(r)):s(e)}))}),[]),Object(O.jsxs)(p,{title:"WeTrainSmart",description:"Welcome to wetrainsmart store",children:[Object(O.jsx)("hr",{}),Object(O.jsx)("h1",{children:"Products"}),Object(O.jsx)("div",{className:"row",children:c.map((function(e,t){return Object(O.jsxs)("div",{className:"col-7 mb-4 mx-auto",children:[Object(O.jsx)(v,{product:e}),Object(O.jsx)("hr",{})]},t)}))})]})}var F=function(){return Object(O.jsx)(a.a,{children:Object(O.jsxs)(r.d,{children:[Object(O.jsx)(r.b,{path:"/",exact:!0,component:N}),Object(O.jsx)(r.b,{path:"/store",exact:!0,component:M}),Object(O.jsx)(r.b,{path:"/signup",exact:!0,component:w}),Object(O.jsx)(r.b,{path:"/signin",exact:!0,component:T}),Object(O.jsx)(r.b,{path:"/cart",exact:!0,component:R}),Object(O.jsx)(k,{path:"/user/dashboard",exact:!0,component:A})]})})};o.a.render(Object(O.jsx)(F,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.37c7e17c.chunk.js.map