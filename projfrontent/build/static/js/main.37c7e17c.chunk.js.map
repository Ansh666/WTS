{"version":3,"sources":["backend.js","core/helper/coreapicalls.js","core/helper/cartHelper.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/Home.js","user/Signup.js","auth/helper/PrivateRoutes.js","user/UserDashboard.js","user/Signin.js","core/PaymentB.js","core/helper/paymentHelper.js","core/helper/orderHelper.js","core/Cart.js","core/Store.js","Routes.js","index.js"],"names":["API","process","getProducts","fetch","method","then","response","json","catch","err","console","log","cartEmpty","next","undefined","window","localStorage","removeItem","setItem","JSON","stringify","isAuthenticated","getItem","parse","signout","userId","user","id","currentTab","history","path","location","pathname","color","withRouter","className","style","to","onClick","push","Base","title","description","children","ImageHelper","product","imageurl","image","src","maxHeight","maxWidth","alt","Card","addtoCart","removeFromCart","reload","setReload","f","useState","redirect","setRedirect","cartTitle","name","cartDescription","cartPrice","price","getAredirect","addToCart","showAddToCart","item","cart","addItemToCart","productId","map","i","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","error","setError","useEffect","data","index","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","e","display","onChange","type","PrivateRoutes","Component","component","rest","render","props","state","from","UserDashboard","Signin","loading","didRedirect","onSumit","formData","FormData","append","keys","key","signin","token","authenticate","performRedirect","PaymentB","clientToken","instance","info","setInfo","getToken","getmeToken","getAmount","amount","p","parseInt","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","paymentInfo","processPayment","code","product_names","forEach","orderData","transaction_id","transaction","createOrder","length","options","authorization","onInstance","Cart","loadCart","loadAllProducts","environment","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","gatewayMerchantId","merchantInfo","merchantId","merchantName","transactionInfo","totalPriceStatus","totalPriceLabel","totalPrice","currencyCode","countryCode","shippingAddressRequired","callbackIntents","onLoadPaymentData","onPaymentAuthorized","PaymentData","transactionState","onPaymentDataChanged","existingPaymentMethodRequired","buttonColor","buttonType","Routes","exact","Store","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.37c7e17c.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}product`, { method: \"GET\" })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","export const addItemToCart = (item, next) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.push({\r\n      ...item,\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const loadCart = () => {\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n};\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    // eslint-disable-next-line\r\n    {\r\n      // eslint-disable-next-line\r\n      cart.map((product, i) => {\r\n        if (product.id === productId) {\r\n          cart.splice(i, 1);\r\n        }\r\n      });\r\n    }\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const cartEmpty = (next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"cart\");\r\n    let cart = [];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n","import { API } from \"../../backend\";\r\nimport { cartEmpty } from \"../../core/helper/cartHelper\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}user/`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const signin = (user) => {\r\n  const formData = new FormData();\r\n\r\n  for (const name in user) {\r\n    console.log(user[name]);\r\n    formData.append(name, user[name]);\r\n  }\r\n\r\n  // const {email, password} = user;\r\n  // const formData = new FormData();\r\n  // formData.append('email', email)\r\n  // formData.append('password', password)\r\n\r\n  for (var key of formData.keys()) {\r\n    console.log(\"MYKEY: \", key);\r\n  }\r\n\r\n  return fetch(`${API}user/login/`, {\r\n    method: \"POST\",\r\n\r\n    body: formData,\r\n  })\r\n    .then((response) => {\r\n      console.log(\"SUCCESS\", response);\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == undefined) {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  const userId = isAuthenticated() && isAuthenticated().user.id;\r\n\r\n  console.log(\"USERID: \", userId);\r\n\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"jwt\");\r\n    cartEmpty(() => {});\r\n    //next();\r\n\r\n    return fetch(`${API}user/logout/${userId}`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => {\r\n        console.log(\"Signout success\");\r\n        next();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport { signout, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#2ecc72\" };\r\n  } else {\r\n    return { color: \"#FFFFFF\" };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history, path }) => {\r\n  return (\r\n    <div>\r\n      <ul className=\"nav nav-tabs bg-dark\">\r\n        <li className=\"nav-item\">\r\n          <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n            WeTrainSmart\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/store\")}\r\n            className=\"nav-link\"\r\n            to=\"/store\"\r\n          >\r\n            SHOP\r\n          </Link>\r\n        </li>\r\n        {isAuthenticated() && (\r\n          <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/cart\")}\r\n            className=\"nav-link\"\r\n            to=\"/cart\"\r\n          >\r\n            CART\r\n          </Link>\r\n        </li>\r\n        )}\r\n        {isAuthenticated() && (\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/user/dashboard\")}\r\n              className=\"nav-link\"\r\n              to=\"/user/dashboard\"\r\n            >\r\n              DASHBOARD\r\n            </Link>\r\n          </li>\r\n        )}\r\n        {!isAuthenticated() && (\r\n          <Fragment>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                style={currentTab(history, \"/signup\")}\r\n                className=\"nav-link\"\r\n                to=\"/signup\"\r\n              >\r\n                SIGNUP\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                style={currentTab(history, \"/signin\")}\r\n                className=\"nav-link\"\r\n                to=\"/signin\"\r\n              >\r\n                SIGNIN\r\n              </Link>\r\n            </li>\r\n          </Fragment>\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <li className=\"nav-item\">\r\n            <span\r\n              onClick={() => {\r\n                signout(() => {\r\n                  history.push(\"/\");\r\n                });\r\n              }}\r\n              className=\"nav-link text-warning\"\r\n            >\r\n              SIGNOUT\r\n            </span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst Base = ({\r\n  title = \"My Title\",\r\n  description = \"My description\",\r\n  className = \"bg-dark text-white p-4\",\r\n  children,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Menu />\r\n      <div className=\"container-fluid\">\r\n        <div className=\"jumbotron bg-dark text-white text-center\">\r\n          <h2 className=\"display-4\">{title}</h2>\r\n          <p className=\"lead\">{description}</p>\r\n        </div>\r\n        <div className={className}>{children}</div>\r\n      </div>\r\n      <footer className=\"footer bg-dark mt-auto py-3\">\r\n        <div className=\"container-fluid bg-success text-white text-center py-3\">\r\n          <h4>If you got any questions, reach me out at instagram</h4>\r\n          <button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n          <div className=\"container\">\r\n            <span className=\"text-warning\">\r\n              An Amazing Django React fullstack course\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Base;\r\n","import React from \"react\";\r\n\r\nconst ImageHelper = ({ product }) => {\r\n  const imageurl = product\r\n    ? product.image\r\n    : `https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940`;\r\n  return (\r\n    <div className=\"rounded border border-success p-2\">\r\n      <img\r\n        src={imageurl}\r\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        className=\"mb-3 rounded\"\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageHelper;\r\n","import React, { useState } from \"react\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addtoCart = true,\r\n  removeFromCart = false,\r\n  reload = undefined,\r\n  setReload = (f) => f,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const cartTitle = product ? product.name : \"A photo from pexels\";\r\n  const cartDescription = product ? product.description : \"Default description\";\r\n  const cartPrice = product ? product.price : \"Default\";\r\n\r\n  const addToCart = () => {\r\n    if (isAuthenticated()) {\r\n      addItemToCart(product, () => setRedirect(true));\r\n      console.log(\"Added to cart\");\r\n    } else {\r\n      console.log(\"Login Please!\");\r\n    }\r\n  };\r\n\r\n  const getAredirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = (addToCart) => {\r\n    return (\r\n      addtoCart && (\r\n        <button\r\n          onClick={addToCart}\r\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveFromCart = (removeFromCart) => {\r\n    return (\r\n      removeFromCart && (\r\n        <button\r\n          onClick={() => {\r\n            removeItemFromCart(product.id);\r\n            setReload(!reload);\r\n\r\n            console.log(\"Product removed from cart\");\r\n          }}\r\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove from cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card text-white bg-dark border border-info \">\r\n      <div className=\"card-header lead\">{cartTitle}</div>\r\n      <div className=\"card-body\">\r\n        {getAredirect(redirect)}\r\n        <ImageHelper product={product} />\r\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n          {cartDescription}\r\n        </p>\r\n        <p className=\"btn btn-success rounded  btn-sm px-4\">Rs. {cartPrice}</p>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">{showAddToCart(addToCart)}</div>\r\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\nimport Base from \"./Base\";\r\n\r\nimport \"../styles.css\";\r\nimport Card from \"./Card\";\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadAllProducts = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n        console.log(error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAllProducts();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <Base title=\"WeTrainSmart\" description=\"Welcome to wetrainsmart store\">\r\n      <div className=\"embed-responsive embed-responsive-16by9\">\r\n        <iframe\r\n          title=\"YouTube Channel \"\r\n          className=\"embed-responsive-item\"\r\n          src=\"https://www.youtube.com/embed/zpOULjyy-n8?rel=0\"\r\n        ></iframe>\r\n      </div>\r\n      <hr />\r\n      <h1>Products</h1>\r\n      <div className=\"column\">\r\n        {products.map((product, index) => {\r\n          return (\r\n            <div key={index} className=\"col-7 mb-4 mx-auto\">\r\n              <Card product={product} />\r\n              <hr />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </Base>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth/helper\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password })\r\n      .then((data) => {\r\n        console.log(\"DATA\", data);\r\n        if (data.email === email) {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: true,\r\n          });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            error: true,\r\n            success: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account created successfully. Please{\" \"}\r\n            <Link to=\"/signin\">login now.</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            Check all fields again\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                value={name}\r\n                onChange={handleChange(\"name\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={handleChange(\"email\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">password</label>\r\n              <input\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={handleChange(\"password\")}\r\n                type=\"current-password\"\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Sign Up Page\" description=\"A signup for LCO user\">\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signUpForm()}\r\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoutes = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated()\r\n          ? (\r\n            <Component {...props} />\r\n          )\r\n          : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location },\r\n              }}\r\n            />\r\n          )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoutes;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\n\r\nconst UserDashboard = () => {\r\n  return (\r\n    <Base title=\"User dashboard\">\r\n      <h1>Welcome to wetrainsmart user dashboard page</h1>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n  const {\r\n    // eslint-disable-next-line\r\n    name,\r\n    email,\r\n    password,\r\n    error,\r\n    success,\r\n    loading,\r\n    // eslint-disable-next-line\r\n    didRedirect } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSumit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        console.log(\"DATA\", data);\r\n        if (data.token) {\r\n          //let sessionToken = data.token;\r\n          authenticate(data, () => {\r\n            console.log(\"TOKKEN ADDED\");\r\n            setValues({\r\n              ...values,\r\n              didRedirect: true,\r\n            });\r\n          });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            loading: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n  // eslint-disable-next-line\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account created successfully. Please{\" \"}\r\n            <Link to=\"/signin\">login now.</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // eslint-disable-next-line\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            Check all fields again\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  // eslint-disable-next-line\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                name=\"email\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={handleChange(\"email\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">password</label>\r\n              <input\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={handleChange(\"password\")}\r\n                type=\"current-password\"\r\n              />\r\n            </div>\r\n            <button onClick={onSumit} className=\"btn btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome to sign in page\" description=\"WeTrainSmart store\">\r\n      {loadingMessage()}\r\n      {errorMessage()}\r\n      {successMessage()}\r\n\r\n      {signInForm()}\r\n      <p className=\"text-center\">{JSON.stringify(values)}</p>\r\n      {performRedirect()}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { cartEmpty } from \"./helper/cartHelper\";\r\nimport { getmeToken, processPayment } from \"./helper/paymentHelper\";\r\nimport { createOrder } from \"./helper/orderHelper\";\r\nimport { isAuthenticated, signout } from \"../auth/helper\";\r\n\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst PaymentB = ({ products, reload = undefined, setReload = (f) => f }) => {\r\n  const [info, setInfo] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: {},\r\n  });\r\n\r\n  const userId = isAuthenticated && isAuthenticated().user.id;\r\n  const token = isAuthenticated && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getmeToken(userId, token).then((info) => {\r\n      if (info.error) {\r\n        setInfo({\r\n          ...info,\r\n          error: info.error,\r\n        });\r\n        signout(() => {\r\n          return <Redirect to=\"/\" />;\r\n        });\r\n      } else {\r\n        const clientToken = info.clientToken;\r\n        setInfo({ clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, [userId, token]);\r\n\r\n  const getAmount = () => {\r\n    let amount = 0;\r\n    // eslint-disable-next-line\r\n    products.map((p) => {\r\n      amount = amount + parseInt(p.price);\r\n    });\r\n    return amount;\r\n  };\r\n  const onPurchase = () => {\r\n    setInfo({ loading: true });\r\n    let nonce;\r\n    // eslint-disable-next-line\r\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\r\n      console.log(\"MYDATA\", data);\r\n      nonce = data.nonce;\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount(),\r\n      };\r\n      processPayment(userId, token, paymentData)\r\n        .then((response) => {\r\n          console.log(\"POINT-1\", response);\r\n          if (response.error) {\r\n            if (response.code === \"1\") {\r\n              console.log(\"PAYMENT Failed!\");\r\n              signout(() => {\r\n                return <Redirect to=\"/\" />;\r\n              });\r\n            }\r\n          } else {\r\n            setInfo({ ...info, success: response.success, loading: false });\r\n            console.log(\"PAYMENT SUCCESS\");\r\n\r\n            let product_names = \"\";\r\n            products.forEach(function (item) {\r\n              product_names += item.name + \", \";\r\n            });\r\n\r\n            const orderData = {\r\n              products: product_names,\r\n              transaction_id: response.transaction.id,\r\n              amount: response.transaction.amount,\r\n            };\r\n            createOrder(userId, token, orderData)\r\n              .then((response) => {\r\n                if (response.error) {\r\n                  if (response.code === \"1\") {\r\n                    console.log(\"Order Failed!\");\r\n                    signout(() => {\r\n                      return <Redirect to=\"/\" />;\r\n                    });\r\n                  }\r\n                } else {\r\n                  if (response.success === true) {\r\n                    console.log(\"ORDER PLACED!!\");\r\n                  }\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                setInfo({ loading: false, success: false });\r\n                console.log(\"Order FAILED\", error);\r\n              });\r\n            cartEmpty(() => {\r\n              console.log(\"Did we got a crash?\");\r\n            });\r\n\r\n            setReload(!reload);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setInfo({ loading: false, success: false });\r\n          console.log(\"PAYMENT FAILED\", error);\r\n        });\r\n    });\r\n  };\r\n\r\n  const showbtnDropIn = () => {\r\n    return (\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0 ? (\r\n          <div>\r\n            <DropIn\r\n              options={{ authorization: info.clientToken }}\r\n              onInstance={(instance) => (info.instance = instance)}\r\n            ></DropIn>\r\n            <button onClick={onPurchase} className=\"btn btn-block btn-success\">\r\n              Buy Now\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <h3>Please login first or add something in cart</h3>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your bill is Rs. {getAmount()}</h3>\r\n      {showbtnDropIn()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentB;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getmeToken = (userId, token) => {\r\n  return fetch(`${API}payment/gettoken/${userId}/${token}/`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n  const formData = new FormData();\r\n\r\n  for (const name in paymentInfo) {\r\n    formData.append(name, paymentInfo[name]);\r\n  }\r\n\r\n  return fetch(`${API}payment/process/${userId}/${token}/`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  }).then((response) => {\r\n    console.log(\"p-0\", response);\r\n    return response.json();\r\n  });\r\n  //.catch((err) => console.log(err));\r\n};\r\n","import { API } from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n  const formData = new FormData();\r\n\r\n  for (const name in orderData) {\r\n    formData.append(name, orderData[name]);\r\n  }\r\n\r\n  return fetch(`${API}order/add/${userId}/${token}/`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"./Base\";\r\n\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./helper/cartHelper\";\r\nimport PaymentB from \"./PaymentB\";\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\n\r\nconst Cart = () => {\r\n  const [reload, setReload] = useState(false);\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setProducts(loadCart());\r\n  }, [reload]);\r\n\r\n  const loadAllProducts = (products) => {\r\n    return (\r\n      <div>\r\n        {products.map((product, index) => (\r\n          <Card\r\n            key={index}\r\n            product={product}\r\n            removeFromCart={true}\r\n            addtoCart={false}\r\n            reload={reload}\r\n            setReload={setReload}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n  // eslint-disable-next-line\r\n  const loadCheckout = () => {\r\n    return (\r\n      <div>\r\n        <h1>Checkout</h1>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Cart page\" description=\"Welcome to checkout\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-6\">\r\n          {products.length > 0 ? (\r\n            loadAllProducts(products)\r\n          ) : (\r\n            <h4>No products</h4>\r\n          )}\r\n        </div>\r\n        <div className=\"col-6\">\r\n          {products.length > 0 ? (\r\n            <PaymentB products={products} setReload={setReload} />\r\n          ) : (\r\n            <h3>Please login or add something in cart</h3>\r\n          )}\r\n          <hr />\r\n          <h3>Or pay with GPay</h3>\r\n          <GooglePayButton\r\n            environment=\"TEST\"\r\n            paymentRequest={{\r\n              apiVersion: 2,\r\n              apiVersionMinor: 0,\r\n              allowedPaymentMethods: [\r\n                {\r\n                  type: \"CARD\",\r\n                  parameters: {\r\n                    allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\r\n                    allowedCardNetworks: [\"MASTERCARD\", \"VISA\"],\r\n                  },\r\n                  tokenizationSpecification: {\r\n                    type: \"PAYMENT_GATEWAY\",\r\n                    parameters: {\r\n                      gateway: \"example\",\r\n                      gatewayMerchantId: \"exampleGatewayMerchantId\",\r\n                    },\r\n                  },\r\n                },\r\n              ],\r\n              merchantInfo: {\r\n                merchantId: \"12345678901234567890\",\r\n                merchantName: \"Demo Merchant\",\r\n              },\r\n              transactionInfo: {\r\n                totalPriceStatus: \"FINAL\",\r\n                totalPriceLabel: \"Total\",\r\n                totalPrice: \"1.00\",\r\n                currencyCode: \"USD\",\r\n                countryCode: \"US\",\r\n              },\r\n              shippingAddressRequired: true,\r\n              callbackIntents: [\"SHIPPING_ADDRESS\", \"PAYMENT_AUTHORIZATION\"],\r\n            }}\r\n            onLoadPaymentData={(paymentRequest) => {\r\n              console.log(\"Success\", paymentRequest);\r\n            }}\r\n            onPaymentAuthorized={(PaymentData) => {\r\n              console.log(\"payment Authorised Success\", PaymentData);\r\n              return { transactionState: \" SUCCESS\" };\r\n            }}\r\n            onPaymentDataChanged={(PaymentData) => {\r\n              console.log(\"On Payment Data Changed\", PaymentData);\r\n              return {};\r\n            }}\r\n            existingPaymentMethodRequired=\"false\"\r\n            buttonColor=\"black\"\r\n            buttonType=\"Buy\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\nimport Base from \"./Base\";\r\n\r\nimport \"../styles.css\";\r\nimport Card from \"./Card\";\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadAllProducts = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n        console.log(error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAllProducts();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <Base title=\"WeTrainSmart\" description=\"Welcome to wetrainsmart store\">\r\n      <hr />\r\n      <h1>Products</h1>\r\n      <div className=\"row\">\r\n        {products.map((product, index) => {\r\n          return (\r\n            <div key={index} className=\"col-7 mb-4 mx-auto\">\r\n              <Card product={product} />\r\n              <hr />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </Base>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\n\r\nimport Home from \"./core/Home\";\r\nimport Signup from \"./user/Signup\";\r\nimport PrivateRoutes from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashboard from \"./user/UserDashboard\";\r\nimport Signin from \"./user/Signin\";\r\nimport Cart from \"./core/Cart\";\r\nimport Store from \"./core/Store\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/store\" exact component={Store} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/signin\" exact component={Signin} />\r\n        <Route path=\"/cart\" exact component={Cart} />\r\n        <PrivateRoutes path=\"/user/dashboard\" exact component={UserDashboard} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}