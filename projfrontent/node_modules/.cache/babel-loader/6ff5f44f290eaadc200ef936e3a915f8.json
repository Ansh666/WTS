{"ast":null,"code":"var _jsxFileName = \"E:\\\\PROJECTS\\\\Python\\\\WTS\\\\projfrontent\\\\src\\\\user\\\\Signin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Base from \"../core/Base\";\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signin = () => {\n  _s();\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: false,\n    loading: false,\n    didRedirect: false\n  });\n  const {\n    // eslint-disable-next-line\n    name,\n    email,\n    password,\n    error,\n    success,\n    loading,\n    // eslint-disable-next-line\n    didRedirect\n  } = values;\n  const handleChange = name => event => {\n    setValues({\n      ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n  const onSumit = event => {\n    event.preventDefault();\n    setValues({\n      ...values,\n      error: false,\n      loading: true\n    });\n    signin({\n      email,\n      password\n    }).then(data => {\n      console.log(\"DATA\", data);\n      if (data.token) {\n        //let sessionToken = data.token;\n        authenticate(data, () => {\n          console.log(\"TOKKEN ADDED\");\n          setValues({\n            ...values,\n            didRedirect: true\n          });\n        });\n      } else {\n        setValues({\n          ...values,\n          loading: false\n        });\n      }\n    }).catch(e => console.log(e));\n  };\n  const performRedirect = () => {\n    if (isAuthenticated()) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  const loadingMessage = () => {\n    return loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this);\n  };\n  // eslint-disable-next-line\n  const successMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 offset-sm-3 text-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success\",\n          style: {\n            display: success ? \"\" : \"none\"\n          },\n          children: [\"New account created successfully. Please\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signin\",\n            children: \"login now.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  };\n\n  // eslint-disable-next-line\n  const errorMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 offset-sm-3 text-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger\",\n          style: {\n            display: error ? \"\" : \"none\"\n          },\n          children: \"Check all fields again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  };\n  // eslint-disable-next-line\n\n  const signInForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 offset-sm-3 text-left\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-light\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              className: \"form-control\",\n              value: email,\n              onChange: handleChange(\"email\"),\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-light\",\n              children: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"password\",\n              className: \"form-control\",\n              value: password,\n              onChange: handleChange(\"password\"),\n              type: \"current-password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onSumit,\n            className: \"btn btn-success btn-block\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(Base, {\n    title: \"Welcome to sign in page\",\n    description: \"WeTrainSmart store\",\n    children: [loadingMessage(), errorMessage(), successMessage(), signInForm(), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center\",\n      children: JSON.stringify(values)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), performRedirect()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(Signin, \"8fU3kg8PX99TpJhUUturPq2Sae8=\");\n_c = Signin;\nexport default Signin;\nvar _c;\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["React","useState","Link","Redirect","Base","signin","authenticate","isAuthenticated","jsxDEV","_jsxDEV","Signin","_s","values","setValues","name","email","password","error","success","loading","didRedirect","handleChange","event","target","value","onSumit","preventDefault","then","data","console","log","token","catch","e","performRedirect","to","fileName","_jsxFileName","lineNumber","columnNumber","loadingMessage","className","children","successMessage","style","display","errorMessage","signInForm","onChange","type","onClick","title","description","JSON","stringify","_c","$RefreshReg$"],"sources":["E:/PROJECTS/Python/WTS/projfrontent/src/user/Signin.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n  const {\r\n    // eslint-disable-next-line\r\n    name,\r\n    email,\r\n    password,\r\n    error,\r\n    success,\r\n    loading,\r\n    // eslint-disable-next-line\r\n    didRedirect } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSumit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        console.log(\"DATA\", data);\r\n        if (data.token) {\r\n          //let sessionToken = data.token;\r\n          authenticate(data, () => {\r\n            console.log(\"TOKKEN ADDED\");\r\n            setValues({\r\n              ...values,\r\n              didRedirect: true,\r\n            });\r\n          });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            loading: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n  // eslint-disable-next-line\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account created successfully. Please{\" \"}\r\n            <Link to=\"/signin\">login now.</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // eslint-disable-next-line\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            Check all fields again\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  // eslint-disable-next-line\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                name=\"email\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={handleChange(\"email\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">password</label>\r\n              <input\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={handleChange(\"password\")}\r\n                type=\"current-password\"\r\n              />\r\n            </div>\r\n            <button onClick={onSumit} className=\"btn btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome to sign in page\" description=\"WeTrainSmart store\">\r\n      {loadingMessage()}\r\n      {errorMessage()}\r\n      {successMessage()}\r\n\r\n      {signInForm()}\r\n      <p className=\"text-center\">{JSON.stringify(values)}</p>\r\n      {performRedirect()}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}