{"ast":null,"code":"import _slicedToArray from\"E:/PROJECTS/Python/WTS/projfrontent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import ImageHelper from\"./helper/ImageHelper\";import{Redirect}from\"react-router-dom\";import{addItemToCart,removeItemFromCart}from\"./helper/cartHelper\";import{isAuthenticated}from\"../auth/helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(_ref){var product=_ref.product,_ref$addtoCart=_ref.addtoCart,addtoCart=_ref$addtoCart===void 0?true:_ref$addtoCart,_ref$removeFromCart=_ref.removeFromCart,removeFromCart=_ref$removeFromCart===void 0?false:_ref$removeFromCart,_ref$reload=_ref.reload,reload=_ref$reload===void 0?undefined:_ref$reload,_ref$setReload=_ref.setReload,setReload=_ref$setReload===void 0?function(f){return f;}:_ref$setReload;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var cartTitle=product?product.name:\"A photo from pexels\";var cartDescription=product?product.description:\"Default description\";var cartPrice=product?product.price:\"Default\";var addToCart=function addToCart(){if(isAuthenticated()){addItemToCart(product,function(){return setRedirect(true);});console.log(\"Added to cart\");}else{console.log(\"Login Please!\");}};var getAredirect=function getAredirect(redirect){if(redirect){return/*#__PURE__*/_jsx(Redirect,{to:\"/cart\"});}};var showAddToCart=function showAddToCart(addToCart){return addtoCart&&/*#__PURE__*/_jsx(\"button\",{onClick:addToCart,className:\"btn btn-block btn-outline-success mt-2 mb-2\",children:\"Add to Cart\"});};var showRemoveFromCart=function showRemoveFromCart(removeFromCart){return removeFromCart&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){removeItemFromCart(product.id);setReload(!reload);console.log(\"Product removed from cart\");},className:\"btn btn-block btn-outline-danger mt-2 mb-2\",children:\"Remove from cart\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-dark border border-info \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header lead\",children:cartTitle}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[getAredirect(redirect),/*#__PURE__*/_jsx(ImageHelper,{product:product}),/*#__PURE__*/_jsx(\"p\",{className:\"lead bg-success font-weight-normal text-wrap\",children:cartDescription}),/*#__PURE__*/_jsxs(\"p\",{className:\"btn btn-success rounded  btn-sm px-4\",children:[\"Rs. \",cartPrice]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:showAddToCart(addToCart)}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:showRemoveFromCart(removeFromCart)})]})]})]});};export default Card;","map":{"version":3,"sources":["E:/PROJECTS/Python/WTS/projfrontent/src/core/Card.js"],"names":["React","useState","ImageHelper","Redirect","addItemToCart","removeItemFromCart","isAuthenticated","Card","product","addtoCart","removeFromCart","reload","undefined","setReload","f","redirect","setRedirect","cartTitle","name","cartDescription","description","cartPrice","price","addToCart","console","log","getAredirect","showAddToCart","showRemoveFromCart","id"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,aAAT,CAAwBC,kBAAxB,KAAkD,qBAAlD,CACA,OAASC,eAAT,KAAgC,gBAAhC,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAMP,IALJC,CAAAA,OAKI,MALJA,OAKI,qBAJJC,SAII,CAJJA,SAII,yBAJQ,IAIR,yCAHJC,cAGI,CAHJA,cAGI,8BAHa,KAGb,sCAFJC,MAEI,CAFJA,MAEI,sBAFKC,SAEL,iCADJC,SACI,CADJA,SACI,yBADQ,SAACC,CAAD,QAAOA,CAAAA,CAAP,EACR,8BAC4Bb,QAAQ,CAAC,KAAD,CADpC,wCACGc,QADH,eACaC,WADb,eAGJ,GAAMC,CAAAA,SAAS,CAAGT,OAAO,CAAGA,OAAO,CAACU,IAAX,CAAkB,qBAA3C,CACA,GAAMC,CAAAA,eAAe,CAAGX,OAAO,CAAGA,OAAO,CAACY,WAAX,CAAyB,qBAAxD,CACA,GAAMC,CAAAA,SAAS,CAAGb,OAAO,CAAGA,OAAO,CAACc,KAAX,CAAmB,SAA5C,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAIjB,eAAe,EAAnB,CAAuB,CACrBF,aAAa,CAACI,OAAD,CAAU,iBAAMQ,CAAAA,WAAW,CAAC,IAAD,CAAjB,EAAV,CAAb,CACAQ,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CAHD,IAGO,CACLD,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CACF,CAPD,CASA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACX,QAAD,CAAc,CACjC,GAAIA,QAAJ,CAAc,CACZ,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EAAP,CACD,CACF,CAJD,CAMA,GAAMY,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACJ,SAAD,CAAe,CACnC,MACEd,CAAAA,SAAS,eACP,eACE,OAAO,CAAEc,SADX,CAEE,SAAS,CAAC,6CAFZ,yBAFJ,CAUD,CAXD,CAaA,GAAMK,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAClB,cAAD,CAAoB,CAC7C,MACEA,CAAAA,cAAc,eACZ,eACE,OAAO,CAAE,kBAAM,CACbL,kBAAkB,CAACG,OAAO,CAACqB,EAAT,CAAlB,CACAhB,SAAS,CAAC,CAACF,MAAF,CAAT,CAEAa,OAAO,CAACC,GAAR,CAAY,2BAAZ,EACD,CANH,CAOE,SAAS,CAAC,4CAPZ,8BAFJ,CAeD,CAhBD,CAkBA,mBACE,aAAK,SAAS,CAAC,6CAAf,wBACE,YAAK,SAAS,CAAC,kBAAf,UAAmCR,SAAnC,EADF,cAEE,aAAK,SAAS,CAAC,WAAf,WACGS,YAAY,CAACX,QAAD,CADf,cAEE,KAAC,WAAD,EAAa,OAAO,CAAEP,OAAtB,EAFF,cAGE,UAAG,SAAS,CAAC,8CAAb,UACGW,eADH,EAHF,cAME,WAAG,SAAS,CAAC,sCAAb,kBAAyDE,SAAzD,GANF,cAOE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,QAAf,UAAyBM,aAAa,CAACJ,SAAD,CAAtC,EADF,cAEE,YAAK,SAAS,CAAC,QAAf,UAAyBK,kBAAkB,CAAClB,cAAD,CAA3C,EAFF,GAPF,GAFF,GADF,CAiBD,CA5ED,CA8EA,cAAeH,CAAAA,IAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addtoCart = true,\r\n  removeFromCart = false,\r\n  reload = undefined,\r\n  setReload = (f) => f,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const cartTitle = product ? product.name : \"A photo from pexels\";\r\n  const cartDescription = product ? product.description : \"Default description\";\r\n  const cartPrice = product ? product.price : \"Default\";\r\n\r\n  const addToCart = () => {\r\n    if (isAuthenticated()) {\r\n      addItemToCart(product, () => setRedirect(true));\r\n      console.log(\"Added to cart\");\r\n    } else {\r\n      console.log(\"Login Please!\");\r\n    }\r\n  };\r\n\r\n  const getAredirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = (addToCart) => {\r\n    return (\r\n      addtoCart && (\r\n        <button\r\n          onClick={addToCart}\r\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveFromCart = (removeFromCart) => {\r\n    return (\r\n      removeFromCart && (\r\n        <button\r\n          onClick={() => {\r\n            removeItemFromCart(product.id);\r\n            setReload(!reload);\r\n\r\n            console.log(\"Product removed from cart\");\r\n          }}\r\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove from cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card text-white bg-dark border border-info \">\r\n      <div className=\"card-header lead\">{cartTitle}</div>\r\n      <div className=\"card-body\">\r\n        {getAredirect(redirect)}\r\n        <ImageHelper product={product} />\r\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n          {cartDescription}\r\n        </p>\r\n        <p className=\"btn btn-success rounded  btn-sm px-4\">Rs. {cartPrice}</p>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">{showAddToCart(addToCart)}</div>\r\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}